(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{504:function(t,a,e){"use strict";(function(t){e.d(a,"a",function(){return n});var n=function(a,e,n,s,i,r){this.isDrawing=!1,this.isClean=!0,this.isEnabled=!0,this.lines=[],this.undoStack=[],this.canvas=a,this.context=e,this.undoStackLimit=20,this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.restore(),this.widthMargin=n,this.heightMargin=s,this.heightDiffArray=i,this.thickness=6,this.color="#000000",this.background=r,void 0!==this.canvas.style.msTouchAction&&(this.canvas.style.msTouchAction="none");var o=this,l=function(){var a=0;o.heightDiffArray.forEach(function(e){t(e).each(function(){a+=t(this).outerHeight(!0)})});var e=window.innerWidth-o.widthMargin,n=window.innerHeight-a-o.heightMargin;n<150&&(e=(n=150)*(window.innerWidth/window.innerHeight));var s=e/n,i=o.canvas.width/o.canvas.height;i<s?(o.canvas.style.height="".concat(n,"px"),o.canvas.style.width="".concat(n*i,"px")):(o.canvas.style.width="".concat(e,"px"),o.canvas.style.height="".concat(e*(1/i),"px")),window.scrollTo(0,0)};window.onresize=l;var c=function(t){if("touchmove"===t.type)t.preventDefault();else if("touchend"===t.type)return o.isDrawing&&t.preventDefault(),void o[t.type]();var a=o.canvas.getBoundingClientRect(),e={x:t.targetTouches[0].pageX-a.left,y:t.targetTouches[0].pageY-a.top};e.x*=o.canvas.width/parseInt(o.canvas.style.width,10),e.y*=o.canvas.height/parseInt(o.canvas.style.height,10),o[t.type](e)},u=function(t){if("mousemove"===t.type)t.preventDefault();else if("mouseup"===t.type)return void o[t.type]();var a=o.canvas.getBoundingClientRect(),e={x:t.clientX-a.left,y:t.clientY-a.top};e.x*=o.canvas.width/parseInt(o.canvas.style.width,10),e.y*=o.canvas.height/parseInt(o.canvas.style.height,10),o[t.type](e)};this.canvas.addEventListener("touchstart",c,!1),this.canvas.addEventListener("touchmove",c,!1),document.addEventListener("touchend",c,!1),this.canvas.addEventListener("mousedown",u,!1),this.canvas.addEventListener("mousemove",u,!1),document.addEventListener("mouseup",u,!1);var d=function(t,a,e,n,s){t.strokeStyle=a,t.lineCap="round",t.lineJoin="round",t.lineWidth=e,t.beginPath(),t.arc(n,s,.01,0,2*Math.PI,!0),t.stroke(),t.moveTo(n,s)},h=function(t,a,e){t.lineTo(a,e),t.stroke()};this.pushUndoSnapshot=function(){for(o.undoStack.push(o.takeSnapshot());o.undoStack.length>o.undoStackLimit;)o.undoStack.shift()},this.undoLine=function(){if(!o.isDrawing){var t=o.undoStack.pop();t&&(o.lines.pop(),0===o.lines.length&&(o.isClean=!0),this.context.clearRect(0,0,o.canvas.width,o.canvas.height),this.context.putImageData(t,0,0))}},this.clearCanvas=function(){o.lines=[],o.undoStack=[],o.context.clearRect(0,0,o.canvas.width,o.canvas.height),o.isClean=!0},this.getLines=function(){return this.lines},this.getWidth=function(){return o.canvas.style.width},this.makeBase64Image=function(t,a){console.log(),t||(t={lines:o.lines,background:o.background});var e=t.lines,n=a?"transparent":t.background,s=o.redrawFromLines(e,n),i=new Image;return i.id="pic",i.className="img-responsive center-block",i.src=s.toDataURL(),i},this.takeSnapshot=function(){return o.context.getImageData(0,0,o.canvas.width,o.canvas.height)},this.redrawFromLines=function(t,a){var e=document.createElement("canvas");e.width=o.canvas.width,e.height=o.canvas.height;var n=e.getContext("2d");n.strokeStyle=o.color,n.lineCap="round",n.lineJoin="round",null!==a&&(n.fillStyle=a,n.fillRect(0,0,o.canvas.width,o.canvas.height),n.fillStyle=o.color);for(var s=0;s<t.length;s++)for(var i=t[s],r=0;r<i.points.length;r++){var l=i.points[r];0===r?d(n,i.color,i.thickness,l.x,l.y):h(n,l.x,l.y)}return e},this.start=function(t){o.isEnabled&&(o.pushUndoSnapshot(),d(o.context,o.color,o.thickness,t.x,t.y),o.isDrawing=!0,o.isClean=!1,o.lines.push({thickness:o.thickness,color:o.color,points:[t]}))},this.move=function(t){if(o.isDrawing){var a={x:parseInt(t.x,10),y:parseInt(t.y,10)},e=o.lines[o.lines.length-1].points;if(e.length>0){var n=e[e.length-1];if(n.x===a.x&&n.y===a.y)return}e.push(a),h(o.context,t.x,t.y)}},this.end=function(){o.isDrawing&&(o.isDrawing=!1)},this.touchstart=this.start,this.touchmove=this.move,this.touchend=this.end,this.mousedown=this.start,this.mousemove=this.move,this.mouseup=this.end,l(),this.resize=l}}).call(this,e(12))},505:function(t,a){t.exports='<div id="page-awshirt" class="page">\n    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Rokkitt:400,700">\n    <template id="awshirt-vote-button">\n        <div class="awshirt-button-group">\n            <button type="button" style=\'background-color:{{ backgroundColor }}; flex-grow:2;\' data-index=\'{{ order }}\' class=\'awshirt-vote-button awshirt-button btn btn-lg\'>{{ slogan }}</button>\n            {{# if (censorable) { }}\n                <button data-censor=\'{{ order }}\' class=\'awshirt-censor-button awshirt-button btn btn-lg\' style="flex-grow:0;flex-basis:35px;">X</button>\n            {{# } }}\n        </div>\n    </template>\n    <div id="player" class="pre-sketchpad pre-sketchpad-shirt">\n        <div class="player-title-bar">\n            <div class="pull-left" style="display:inline-block;">\n                <div class="awshirt-player-avatar" style="display:none;"></div>\n            </div>\n            <h1 id="username"></h1>\n        </div>\n        <div class="awshirt-message-panel">\n            <div class="awshirt-text"><p id="awshirt-message"></p></div>\n        </div>\n    </div>\n    \n    <div id="awshirt-preload" class="awshirt-preload"></div>\n\n    <div id="game" class="game pt-pageholder">    \n        <div id="state-lobby" class="pt-page-off awshirt-page">\n            <div class="container">\n                <div id="lobby-main-menu"> \n                    <span id="awshirt-lobby-text" class="awshirt-lobby-text"></span>\n                    <form class="pure-form">                     \n                        <button type="button" id="awshirt-startgame" class="awshirt-button button-xlarge pure-button pure-input-1">FIGHT</button> \n                        <button type="button" id="awshirt-stopcountdown" class="awshirt-button  button-xlarge pure-button pure-input-1">CANCEL</button> \n                        <button type="button" id="awshirt-sameplayers" class="awshirt-button  button-xlarge pure-button pure-input-1 awshirt-endbuttons">SAME PLAYERS</button> \n                        <button type="button" id="awshirt-newplayers" class="awshirt-button  button-xlarge pure-button pure-input-1 awshirt-endbuttons">NEW PLAYERS</button>     \n                    </form> \n \n                    <form class="pure-form"> \n                        <button type="button" id="awshirt-lobby-menu-censor" class="menu-button lobby-button awshirt-button button-xlarge pure-button pure-input-1">Censor Menu</button>\n                    </form> \n                    <div class="awshirt-avatars">\n                    \x3c!-- catfish, cat, kappa, redDemon, hair, fire, crow, blueDemon, fox, bun, raccoon, dog, snake, monkey, umbrella, baku --\x3e\n                        <button data-avatar="catfish" class="awshirt-avatar catfish"></button>\n                        <button data-avatar="cat" class="awshirt-avatar cat"></button>\n                        <button data-avatar="kappa" class="awshirt-avatar kappa"></button>\n                        <button data-avatar="redDemon" class="awshirt-avatar redDemon"></button>\n                        <button data-avatar="hair" class="awshirt-avatar hair"></button>\n                        <button data-avatar="fire" class="awshirt-avatar fire"></button>\n                        <button data-avatar="crow" class="awshirt-avatar crow"></button>\n                        <button data-avatar="blueDemon" class="awshirt-avatar blueDemon"></button>\n                        <button data-avatar="fox" class="awshirt-avatar fox"></button>\n                        <button data-avatar="bun" class="awshirt-avatar bun"></button>\n                        <button data-avatar="raccoon" class="awshirt-avatar raccoon"></button>\n                        <button data-avatar="dog" class="awshirt-avatar dog"></button>\n                        <button data-avatar="snake" class="awshirt-avatar snake"></button>\n                        <button data-avatar="monkey" class="awshirt-avatar monkey"></button>\n                        <button data-avatar="umbrella" class="awshirt-avatar umbrella"></button>\n                        <button data-avatar="baku" class="awshirt-avatar baku"></button>\n                    </div>\n                    <form>\n                        <div id="awshirt-taunt-input-group" class="form-group">\n                            <label for="awshirt-taunt-text" class="awshirt-lobby-text">Victory Quote</label>\n                            <div class="awshirt-button-group awshirt-taunt-group">\n                                <input id="awshirt-taunt-text" type="text" class="awshirt-input-text" placeholder="VICTORY QUOTE" autocapitalize=\'off\' autocorrect=\'off\' autocomplete=\'off\' maxLength="70">\n                                <button id="awshirt-taunt-submit" class="awshirt-button-submit btn" type="submit" disabled>SET</button>\n                            </div>\n                        </div>\n                    </form>\n                    <form class="pure-form">\n                        <div id="awshirt-lobby-postgame" class="">\n                            <a target="_blank" class="gallery-link" href=""><div class=\'galleryImage\'></div></a>\n                        </div>\n                    </form>\n                </div> \n             \n                <div id="lobby-censor"> \n                     \n                    <div class="pure-u-1"></div> \n                     \n                    <form class="pure-form"> \n                        <div class="pure-u-1"> \n                            <button type="button" class="awshirt-lobby-menu-back awshirt-button button-xlarge pure-button pure-input-1" style="margin-left: 0px; margin-right: 0px;">back</button> \n                        </div> \n                         \n                        <div class="pure-u-1"></div> \n                         \n                        <div id="lobby-censor-players" class="pure-u-1"></div> \n                        <div class="awshirt-text awshirt-text-alt">Hit X to CENSOR player for rest of the game, hiding their name.</div>\n                    </form> \n                </div> \n            </div>\n        </div>\n\n        <div id="state-logo" class="pt-page-off awshirt-page awshirt-player-avatar-large">\n            \n            \x3c!-- <div class="logo-image"></div> --\x3e\n        </div>\n        \n        <div id="state-audience" class="pt-page-off awshirt-page">\n            <p class="awshirt-text-audience">\n                <span id="awshirt-audience" class=\'awshirt-text-audience awshirt-text audience\'></span>\n            </p>\n            <div class="logo-image"></div>\n        </div>\n\n        <div id="state-draw" class="pt-page-off awshirt-page">\n            \x3c!-- <div class="container"> --\x3e\n                <div class="awshirt-solid-bg">\n                    \n                    <div class="">\n                        <div class="canvas-container">\n                            <ul class="nav awshirt-nav-colors pre-sketchpad">\n                                <li class="pull-left awshirt-button-pad">\n                                    <button class="awshirt-thickness awshirt-button" data-thickness="10"> \n                                        <div class="thickness-circle"></div> \n                                    </button> \n                                </li>\n                                <li class="">\n                                    <ul id="awshirt-color-buttons" class="nav pull-right">\n                                    </ul>\n                                </li>\n                            </ul>\n                            <canvas class="awshirt-sketchpad" width=\'300\' height=\'300\' style=\'background-color:white;\'> \n                              Sorry, your browser is not supported. \n                            </canvas> \n                            <ul class="awshirt-drawing-buttons nav nav-tabs awshirt-nav-backgrounds">\n                                <li class="pull-left">\n                                    <ul class="nav awshirt-background-picker"></ul>\n                                </li>\n                                <li class="pull-right">\n                                    <div class="awshirt-button-pad">\n                                        <button type="submit" id="awshirt-submitdrawing" class="submit-drawing awshirt-button awshirt-button-submit"><i class="fa fa-check" aria-hidden="true"></i></button>\n                                        <div id="awshirt-submitdrawing-loading" style="display:none;" class="awshirt-button-loading">\n                                    </div>\n                                </li>\n                                <li class="pull-right">\n                                    <div class="awshirt-button-pad">\n                                        <button class="awshirt-undo awshirt-button">\n                                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n                                             width="20pt" height="21pt" viewBox="0 0 46.000000 36.000000"\n                                             preserveAspectRatio="xMidYMid meet">\n\n                                            <g transform="translate(0.000000,36.000000) scale(0.100000,-0.100000)"\n                                            fill="#000000" stroke="none">\n                                            <path d="M60 295 l-65 -65 68 -68 67 -67 0 48 0 47 125 0 125 0 0 -55 0 -55\n                                            -155 0 -155 0 0 -40 0 -40 195 0 195 0 0 140 0 140 -164 0 -165 0 -3 40 -3 41\n                                            -65 -66z"/>\n                                            </g>\n                                            </svg>\n                                        </button>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="col-xs-12 awshirt-button-bar post-sketchpad">\n                    <button type="button" id="awshirt-drawing-audience-censor" class="awshirt-audience-censor awshirt-button capitalize btn btn-block">CENSOR AUDIENCE</button>\n                    <button id="awshirt-suggestdraw" class=\'awshirt-button-suggestion awshirt-suggestion awshirt-button btn btn-block\'> \n                        <span id="awshirt-instructions" class=\'awshirt-text-instruction awshirt-text drawing-instructions\'>SUGGESTION</span>\n                    </button> \n\n                    <p class="awshirt-text-instruction">\n                        <span id="awshirt-instructions" class=\'awshirt-text-instruction awshirt-text instructions\'>a picture of yourself!</span>\n                    </p>\n                </div>\n            \x3c!-- </div> --\x3e\n        </div>\n\n        <div id="state-drawing-done" class="pt-page-off awshirt-page awshirt-player-avatar-large">\n        </div>\n\n        <div id="state-input" class="pt-page-off awshirt-page">\n            <form>\n                <fieldset>\n                    <div class="container">\n                        <div class="row">\n                            <div class="awshirt-task"></div>\n                            <p class="awshirt-text-instruction">\n                                <span class=\'awshirt-text-instruction awshirt-text instructions\'>a picture of yourself!</span>\n                            </p>\n                            <label for=\'awshirt-title-input\' id="awshirt-input-task"></label>\n                            <input id=\'awshirt-title-input\' value=\'\' type=\'text\' class=\'form-control input-lg awshirt-input-text\' autocapitalize=\'off\' autocorrect=\'off\' autocomplete=\'off\' maxlength=\'70\'/>\n                            <div class="col-xs-12">\n                            <ul class="nav nav-tabs">\n                                <li class="pull-right">\n                                    <div class="awshirt-button-pad">\n                                        <button type="submit" id="awshirt-submittitle" class=" awshirt-button awshirt-button-submit"  disabled><i class="fa fa-check" aria-hidden="true"></i></button>\n                                        <div id="awshirt-submittitle-loading" style="display:none;" class="awshirt-button-loading">\n                                    </div>\n                                </li>\n                                <li class="pull-right">\n                                    <div class="awshirt-button-pad">\n                                        <button id="awshirt-suggesttitle" class="awshirt-suggestion awshirt-button button-input">\n                                            SUGGESTION\n                                        </button>\n                                    </div>\n                                </li>\n                            </ul>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="col-xs-12">\n                        <button type="button" id="awshirt-input-audience-censor" class="awshirt-audience-censor awshirt-button capitalize btn btn-block">CENSOR AUDIENCE</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n\n        <div id="state-prompts-done" class="pt-page-off awshirt-page awshirt-player-avatar-large">\n            \x3c!-- <h2>Waiting for other players to finish!</h2> --\x3e\n        </div>\n\n        <div id="state-shirt" class="pt-page-off awshirt-page">\n            <table style="height:100%;width:100%;">\n                <tr style="height:100%;">\n                    <td style="vertical-align:top;">\n                        <div class="awshirt-solid-bg">\n                            <div class="canvas-container">\n                                <div class="pre-sketchpad-shirt awshirt-text">CHOOSE A DRAWING</div>\n                                <div id="awshirt-shirttime-canvas" class="awshirt-canvas-container-box">\n                                    <div class="glideShirts">\n                                        <div id="awshirt-image-bullets" class="glide__bullets" data-glide-el="controls[nav]">\n                                            <button class="glide__bullet" data-glide-dir="=0"></button>\n                                            <button class="glide__bullet" data-glide-dir="=1"></button>\n                                            <button class="glide__bullet" data-glide-dir="=2"></button>\n                                        </div>\n                                        <div class="awshirt-track glide__track" data-glide-el="track">\n                                            <ul id="awshirt-image-slides" class="glide__slides">\n                                                <li class="glide__slide">0</li>\n                                                <li class="glide__slide">1</li>\n                                                <li class="glide__slide">2</li>\n                                            </ul>\n                                        </div>\n                                        <div class="awshirt-slider-controls" data-glide-el="controls">\n                                            <button class="awshirt-slider-left" data-glide-dir="<"></button>\n                                            <button class="awshirt-slider-right" data-glide-dir=">"></button>\n                                        </div>\n                                    </div>\n                                    <div class="glideSlogans">\n                                        <div class="awshirt-track glide__track" data-glide-el="track">\n                                            <ul id="awshirt-slogan-slides" class="glide__slides">\n                                                <li class="glide__slide">SLOGAN0</li>\n                                                <li class="glide__slide">SLOGAN1</li>\n                                                <li class="glide__slide">SLOGAN2</li>\n                                            </ul>\n                                        </div>\n                                        <div id="awshirt-slogan-bullets" class="glide__bullets" data-glide-el="controls[nav]">\n                                            <button class="glide__bullet" data-glide-dir="=0"></button>\n                                            <button class="glide__bullet" data-glide-dir="=1"></button>\n                                            <button class="glide__bullet" data-glide-dir="=2"></button>\n                                        </div>\n                                        <div class="awshirt-slider-controls" data-glide-el="controls">\n                                            <button class="awshirt-slider-left" data-glide-dir="<"></button>\n                                            <button class="awshirt-slider-right" data-glide-dir=">"></button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="pre-sketchpad-shirt awshirt-text">CHOOSE A SLOGAN</div>\n                                <div class="pre-sketchpad-shirt">\n                                    <button type="submit-shirt" id="awshirt-submit-shirt" class="submit-drawing awshirt-button awshirt-button-submit"><i class="fa fa-check" aria-hidden="true"></i></button>\n                                    <div id="awshirt-submitshirt-loading" style="display:none;" class="awshirt-button-loading">\n                                </div>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                    </td>\n                </tr>\n            </table>\n        </div>\n\n        <div id="state-shirts-done" class="pt-page-off awshirt-page container awshirt-player-avatar-large">\n            \x3c!-- <h2>Waiting for other players to finish!</h2> --\x3e\n        </div>\n\n        <div id="state-vote" class="pt-page-off awshirt-page container">\n            <p class="awshirt-text-instruction">Pick your favorite!</p>\n            <div id="vote-buttons" class="pure-form awshirt-vote-buttons awshirt-text"></div>\n        </div>\n        \n        <div id="state-voting-done" class="pt-page-off awshirt-page container awshirt-player-avatar-large">\n            \x3c!-- <h2>Waiting for other players to finish!</h2> --\x3e\n        </div>\n\n        <div id="state-audience-suggestions" class="pt-page-off awshirt-page">\n            <form class="pure-form pure-form-stacked">\n                <fieldset>\n\n                    <label id="awshirt-audience-suggestion-instruction" for="audience-suggestion"></label>\n                    <input id="awshirt-audience-suggestion" class="pure-input-1 capitalize awshirt-answer-input" type="text" placeholder="ENTER A SUGGESTION" maxlength="45" autocapitalize=\'off\' autocorrect=\'off\' autocomplete=\'off\'>\n\n                    <button id="awshirt-audience-suggestion-submit" type="submit" class="pure-button pure-button-primary">Send</button>\n                </fieldset>\n            </form>\n        </div>\n\n        \n        <div id="state-round" class="pt-page-off awshirt-page">\n            <div class="round-image-container" style="width:100%;">\n                <img id="round-image" class="pure-img" style="margin-left:auto; margin-right:auto;">\n            </div>\n        </div>\n    \n        <div id="state-answer-question-audience" class="pt-page-off awshirt-page">\n            <br/><div class="state-answer-question-audience-main"><p class=\'state-answer-question-audience-text\'/></div>\n        </div>\n\n        <div id="state-answer-question" class="pt-page-off awshirt-page">\n            <div class="container">\n                <br /><span id="question-text"></span><br />\n\n                <span id="awshirt-submit-alert" class="alert alert-info">Alert message goes here</span>\n                <form class="pure-form" id="awshirt-answer-field">\n                    <div class="pure-u-1">\n                        <input id="awshirt-answer-input" name="awshirt-answer" class="pure-input-1 capitalize awshirt-answer-input" type="text" maxlength="45" placeholder="ANSWER HERE" autocapitalize="off" autocorrect="off" autocomplete="off">\n                    </div>\n                    <button type="submit" id="awshirt-submit-answer" class="awshirt-button button-large pure-button capitalize right"><i class="fa fa-send-o"></i>&nbsp;&nbsp;Send</button>\n                    <button type="submit" id="awshirt-suggestion" class="awshirt-button button-large pure-button capitalize right">Suggestion</button>\n                    <div id="awshirt-submit-answer-loading" style="display:none;" class="awshirt-button-loading"></div>            \n                </form>\n                <div id="awshirt-suggestions" class="pure-g"></div>\n            </div>\n        </div>    \n        \n        <div id="state-done-answering" class="pt-page-off awshirt-page">\n            <br/><span>Thanks for your answers!</span><br/>\n        </div>\n    </div>\n</div>\n'},506:function(t,a,e){},508:function(t,a,e){var n={"./baku.png":[737,69],"./blueDemon.png":[738,70],"./bun.png":[739,71],"./cat.png":[740,72],"./catfish.png":[741,73],"./crow.png":[742,74],"./dog.png":[743,75],"./fire.png":[744,76],"./fox.png":[745,77],"./hair.png":[746,78],"./kappa.png":[747,79],"./monkey.png":[748,80],"./raccoon.png":[749,81],"./redDemon.png":[750,82],"./snake.png":[751,83],"./umbrella.png":[752,84]};function s(t){if(!e.o(n,t))return Promise.resolve().then(function(){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a});var a=n[t],s=a[0];return e.e(a[1]).then(function(){return e.t(s,7)})}s.keys=function(){return Object.keys(n)},s.id=508,t.exports=s},785:function(t,a,e){"use strict";e.r(a);var n=e(12),s=e.n(n),i=e(28),r=e.n(i),o=e(503),l=e.n(o),c=e(410),u=e(434),d=e(406),h=e(426),p=e(53),g=e(160),b=e(504),w=function(t,a,e,n,i){this.element=s()(t),this.widthMargin=a,this.heightMargin=e,this.heightDiffArray=n,this.elementAspectRatio=i;var r=this,o=function(t){var a=0;n.forEach(function(t){s()(t).each(function(){a+=s()(this).outerHeight(!0)})});var e=1*r.elementAspectRatio,i=window.innerWidth-r.widthMargin,o=Math.max(s()(window).innerHeight()-a-r.heightMargin,250),l=Math.min(i/e,o/1);r.width=e*l,r.height=1*l,r.element.width("".concat(r.width,"px")),r.element.height("".concat(r.height,"px")),window.scrollTo(0,0),r.onResize()};this.onResize=function(){},window.onresize=o,o(),this.resize=o},v=e(505),m=e.n(v);e(506),e(507);function f(t,a,e,n,s,i,r){try{var o=t[i](r),l=o.value}catch(t){return void e(t)}o.done?a(l):Promise.resolve(l).then(n,s)}function y(t){return function(){var a=this,e=arguments;return new Promise(function(n,s){var i=t.apply(a,e);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)})}}e.d(a,"MainView",function(){return k});var k=c.a.extend({appName:"AwShirt",appTag:"awshirt",template:r.a.template(m.a),testBlob:null,prevRoomState:"",prevPlayerState:"",doneAnswering:!1,lobbyMenu:null,colors:["#ffffff","#f32938","#f8e655","#44d582","#0046ae","#634a2c","#bc4df8","#000000"],backgroundColors:["#285599","#5F6267","#080808","#750E1E","#625C4A"],stories:{cat:{intro:"My mother is very ill. I must win the tournament to pay for her surgery.",taunt:"I knew I could do it!"},raccoon:{intro:"I must win the tournament or the evil banker will repossess the orphanage!",taunt:"I put all of my heart into winning!"},kappa:{intro:"If I win the tournament, I will get my own reality show!",taunt:"Now I will be famous!"},dog:{intro:"WOOF! WOOF WOOF!",taunt:"BARK! WOOF! BARK BARK!"},umbrella:{intro:"My dream is to open a sandal shop. I would also like to win this tournament!",taunt:"What an unexpected surprise!"},blueDemon:{intro:"My shirt will put my twin’s efforts to shame!",taunt:"Sorry, but my skills are superior!"},redDemon:{intro:"I don’t care about winning, as long as I beat my twin!",taunt:"I was born to be the best!"},catfish:{intro:"I’m competing to raise Fin Rot awareness!",taunt:"I win! Please donate to cure Fin Rot today!"},hair:{intro:"I HUNGER FOR VICTORY!",taunt:"MY HUNGER HAS BEEN SATISFIED…FOR NOW…"},bun:{intro:"I’ve never made t-shirts before, but I’m usually pretty lucky.",taunt:"I never lose!"},fox:{intro:"After I win the tournament, I can take a year off and finish my sitcom pilot!",taunt:"Hollywood, here I come!"},fire:{intro:"I’m just happy to get out of the house!",taunt:"We’re having so much fun, guys!"},crow:{intro:"I did not mean to enter this tournament! It was a clerical error!",taunt:"What is happening? Did I win?"},monkey:{intro:"If I don’t win the tournament, I guess I’ll go paint houses for my uncle.",taunt:"I deserve this!"},baku:{intro:"Winning the tournament is my life-long dream!",taunt:"All my dreams are coming true!"},snake:{intro:"I do not have arms, but my love of t-shirts is strong. I will win the tournament!",taunt:"I am honored to accept this victory."}},events:{"click #awshirt-startgame":"startGame","click #awshirt-stopcountdown":"stopCountdown","click #awshirt-sameplayers":"newGameSamePlayers","click #awshirt-newplayers":"newGameNewPlayers","click .awshirt-avatar":"setPlayerAvatar","click #awshirt-taunt-submit":"setPlayerTaunt","click .awshirt-change-color":"colorButtonClicked","click .awshirt-background-color":"backgroundButtonClicked","click .awshirt-thickness":"thicknessButtonClicked","click .awshirt-undo":"undoButtonClicked","click #awshirt-audience-suggestion-submit":"submitSuggestion","click #awshirt-submitdrawing":"submitDrawing","click #awshirt-submittitle":"submitTitle","click .awshirt-suggestion":"getSuggestion","click #awshirt-submit-shirt":"submitShirt","click .awshirt-vote-button":"vote","click .awshirt-lobby-menu-back":"lobbyMenuBack","click #awshirt-lobby-menu-censor":"lobbyMenuCensor","click .awshirt-censor-player-button":"censorPlayer","click .awshirt-censor-button":"censor","click .awshirt-audience-censor":"censorAudience"},initialize:function(t){c.a.prototype.initialize.apply(this,[t]),g.app.analytics.setApplication(this.appName,this.appId,this.appVersion),g.app.analytics.trackScreenView(this.appId),this.model.on("change",this.update,this)},onAttach:function(){this.lobbyMenu=new u.a({e:s()("#lobby-main-menu"),branches:[{input:"censor",node:{e:s()("#lobby-censor")}}]}),this.lobbyMenu.reset(),s()("input").bind("input propertychange",this.validateInput.bind(this)),this.update()},renderTemplate:function(t,a){var e=r.a.templateSettings;r.a.templateSettings={evaluate:/\{\{#([\s\S]+?)\}\}/g,interpolate:/\{\{\{(\s*\w+?\s*)\}\}\}/g,escape:/\{\{(\s*\w+?\s*)\}\}(?!\})/g};var n=r.a.template(t)(a);return r.a.templateSettings=e,n},changeColor:function(t){this.currentCanvas&&(this.currentCanvas.color=t,s()(".button-color").removeClass("active"),s()('.button-color[data-color="'.concat(t,'"]')).addClass("active"),s()("#chooselikes-choice").css("color",this.currentCanvas.color),s()(".thickness-circle").css("background-color",this.currentCanvas.color))},changeBackground:function(t){this.currentCanvas&&(this.currentCanvas.background=t,s()(".awshirt-sketchpad").css("background-color",t),s()(".awshirt-thickness").css("background-color",t),s()(".awshirt-background-color").removeClass("active"),s()('.awshirt-background-color[data-background="'.concat(t,'"]')).addClass("active"))},setPlayerAvatar:function(t){s()(".awshirt-avatars button").removeClass("selecting");var a=s()(t.currentTarget);if(a.hasClass("selected")||a.hasClass("used"))return!1;a.addClass("selecting");var e=s()(t.currentTarget).data("avatar");return g.app.client.send("SendMessageToRoomOwner",{avatar:e}),!1},setPlayerTaunt:function(t){var a=s()("#awshirt-taunt-text"),e=s()("#awshirt-taunt-submit");if(a.prop("disabled"))a.prop("disabled",!1),e.html("SET"),a.focus(),a.select();else{var n=a.val();if(0===this.sanitize(n).length)return!1;g.app.client.send("SendMessageToRoomOwner",{taunt:n}),a.prop("disabled",!0),e.blur(),e.html("CHANGE")}return!1},colorButtonClicked:function(t){var a=s()(t.currentTarget).data("color");return this.changeColor(a),!1},backgroundButtonClicked:function(t){var a=s()(t.currentTarget).data("background");return this.changeBackground(a),!1},setThickness:function(t){this.currentCanvas&&(this.currentCanvas.thickness=t,s()(".thickness-circle").css("width",2*t),s()(".thickness-circle").css("height",2*t),s()(".thickness-circle").css("margin",10-t),s()(".awshirt-thickness").data("thickness",t))},thicknessButtonClicked:function(t){var a=s()(".awshirt-thickness").data("thickness"),e=[5,12,18],n=(e.indexOf(a)+1)%e.length;return this.setThickness(e[n]),!1},undoButtonClicked:function(t){return s()(".awshirt-undo").prop("disabled",!0),this.currentCanvas.undoLine(),s()(".awshirt-undo").prop("disabled",!1),!1},submitDrawing:function(t){if(this.currentCanvas.isClean)return alert("You have to draw something!"),!1;this.enableLoadingButton("#awshirt-submitdrawing",!1);var a={pictureLines:this.currentCanvas.getLines(),background:this.currentCanvas.background};return g.app.client.send("SendMessageToRoomOwner",a),s()("#awshirt-draw-alert").hide(),this.currentCanvas.clearCanvas(),!1},submitTitle:function(t){var a=this.sanitize(s()("#awshirt-title-input").val()).toUpperCase(),e=s()("#awshirt-submit-alert");return 0===a.length?(e.html("You can't enter nothing!"),e.removeClass("alert-info"),e.addClass("alert-danger"),e.show(),!1):(g.app.client.send("SendMessageToRoomOwner",{msg:a,answer:!0}),s()("#awshirt-title-input").val(""),s()("#awshirt-title-input").closest("form").find('button[type="submit"]').prop("disabled",!0),s()("#awshirt-title-input").focus(),e.hide(),!1)},submitSuggestion:function(t){var a=this.sanitize(s()("#awshirt-audience-suggestion").val()).toUpperCase(),e=s()("#awshirt-submit-alert");return 0===a.length?(e.html("You can't enter nothing!"),e.removeClass("alert-info"),e.addClass("alert-danger"),e.show(),!1):(g.app.client.sessionSend("comment","AwShirt Comments",{type:"comment",comment:a}),s()("#awshirt-audience-suggestion").val(""),s()("#awshirt-audience-suggestion").focus(),e.hide(),!1)},getSuggestion:function(t){return s()(".awshirt-suggestion").prop("disabled",!0),g.app.client.send("SendMessageToRoomOwner",{suggestion:!0}),!1},update:function(){var t=this;return y(regeneratorRuntime.mark(function a(){var n,i,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.model.attributes.roomBlob){a.next=4;break}return s()("#awshirt-audience").html(""),t.showScreen("#state-audience"),a.abrupt("return");case 4:if(n=t.model.attributes.customerBlob?t.model.attributes.customerBlob:{},i=t.model.attributes.roomBlob?t.model.attributes.roomBlob:{},r=i?i.state:"",!n.avatar){a.next=16;break}if(s()(".awshirt-player-avatar").show().attr("class","awshirt-player-avatar ".concat(n.avatar)),s()("#awshirt-message").html('"'.concat(t.stories[n.avatar].intro,'"')),s()("#awshirt-taunt-text").attr("placeholder",t.stories[n.avatar].taunt),"Lobby"===r){a.next=16;break}return a.next=14,e(508)("./".concat(n.avatar,".png"));case 14:o=a.sent,s()(".awshirt-player-avatar-large").css("background-image",'url("'.concat(o.default,'")'));case 16:g.app.client.isAudience?t.updateAudience():n&&t.updatePlayer(),t.onResize();case 18:case"end":return a.stop()}},a)}))()},updatePlayer:function(){var t=this;return y(regeneratorRuntime.mark(function a(){var n,i,r,o,c,u,b,v,m,f,y,k,x,S,C,I,T,A,R,_,O,q,E,L,M,D;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(s()(".player-title-bar").show(),s()(".awshirt-message-panel").hide(),n=t.model.attributes.roomBlob,i=t.model.attributes.customerBlob?t.model.attributes.customerBlob:{},r=i?i.state:"",o=n?n.state:"",c=n.lobbyState,u=0,t.currentAnswerQuestionId=-1,"RoomFull"!==r){a.next=12;break}return d.a.show(new Error("The room is full"),{restart:!0}),a.abrupt("return");case 12:if("GameLocked"!==r){a.next=15;break}return d.a.show(new Error("Game is in progress. Please wait for a new game to start."),{restart:!0}),a.abrupt("return");case 15:if(!o||"Lobby"!==o){a.next=48;break}if(g.app.client.isPlayer){a.next=19;break}return t.showScreen("#state-logo"),a.abrupt("return");case 19:if(t.hideLobbyButtons(),s()(".menu-button").hide(),i.avatar?(s()(".awshirt-avatars button").removeClass("selected").removeClass("used").prop("disabled",!1),void 0!==n.usedAvatars&&n.usedAvatars.forEach(function(t){s()(".awshirt-avatars button.".concat(t)).removeClass("selecting").addClass("used")}),s()(".awshirt-avatars button.".concat(i.avatar)).removeClass("used").removeClass("selecting").addClass("selected"),s()(".awshirt-avatars button.used").prop("disabled",!0),"PostGame"!==c&&"Countdown"!==c?(s()("#awshirt-taunt-input-group").show(),s()(".awshirt-avatars").show()):(s()("#awshirt-taunt-input-group").hide(),s()(".awshirt-avatars").hide())):s()(".awshirt-avatars").hide(),i.canCensor&&i.censorablePlayers&&(b="",i.censorablePlayers.forEach(function(t){b+='<div class="pure-u-1">',b+='<div class="awshirt-censorable left"><span>'.concat(t.name,"</span></div>"),b+='<button type="button" data-censor="'.concat(p.a.htmlEscape(t.id),'" class="awshirt-censor-player-button button-large pure-button awshirt-button right">X</button>'),b+="</div>"}),s()("#lobby-censor-players").html(b),i.censorablePlayers.length>0&&s()("#awshirt-lobby-menu-censor").show()),!((v=n.artifact)&&v.success&&v.rootId)){a.next=36;break}return m="games.jackbox.tv",-1!==v.rootId.indexOf("test")&&(m="games-test.jackbox.tv"),f="http://".concat(m,"/artifact/TeeKOGame/").concat(v.artifactId,"/"),a.next=30,e.e(6).then(e.t.bind(null,770,7));case 30:y=a.sent,k='<a target="_blank" class="gallery-link" href="'.concat(f,'"><img src="').concat(y.default,'" /></a>'),s()("#awshirt-lobby-postgame").html(k),h.a.save(v),a.next=37;break;case 36:s()("#awshirt-lobby-postgame").html("");case 37:if("PostGame"===c&&null===v&&(t.reportedMissingArtifact||(x="PostGame",S="galleryMissing",C=n.platformId,g.app.analytics.trackEvent(x,S,C),t.reportedMissingArtifact=!0)),i.isAllowedToStartGame){a.next=42;break}return s()("#awshirt-lobby-text").html("Sit back and relax!"),t.showScreen("#state-lobby"),a.abrupt("return");case 42:n.sendDefaultColor&&t.sendDefaultColor(),c||(c=i.state.split("_")[1]),"WaitingForMore"===c?(s()("#awshirt-lobby-text").html("Waiting for all players to join"),s()(".awshirt-avatars").show(),s()("#awshirt-taunt-input-group").show()):"CanStart"===c?(s()("#awshirt-lobby-text").html("Press this button when everybody has joined"),s()("#awshirt-startgame").show(),s()(".awshirt-avatars").show(),s()("#awshirt-taunt-input-group").show()):"Countdown"===c?(s()("#awshirt-lobby-text").html("Press this button to cancel game start"),s()("#awshirt-stopcountdown").show(),s()(".awshirt-avatars").hide(),s()("#awshirt-taunt-input-group").hide()):"PostGame"===c&&(s()("#awshirt-lobby-text").html("What do you want to do?"),s()(".awshirt-endbuttons").show(),s()(".awshirt-avatars").hide(),s()("#awshirt-taunt-input-group").hide()),t.showScreen("#state-lobby"),a.next=123;break;case 48:if("Logo"!==o){a.next=54;break}s()(".player-title-bar").hide(),s()(".awshirt-message-panel").show(),t.showScreen("#state-logo"),a.next=123;break;case 54:if(!o||"Gameplay"!==o.split("_")[0]){a.next=106;break}if(!r||"Gameplay"!==r.split("_")[0]){a.next=103;break}I=r.split("_")[1],"Gameplay_ShirtTime"===n.event&&(I="ShirtTime"),"ShirtTime"!==I&&s()(".awshirt-drawing").remove(),a.t0=I,a.next="DrawingTime"===a.t0?62:"DrawingComplete"===a.t0?69:"InputPrompt"===a.t0?75:"PromptsDone"===a.t0?81:"ShirtTime"===a.t0?87:"ShirtsDone"===a.t0?94:100;break;case 62:return s()(".player-title-bar").hide(),s()(".awshirt-audience-censor").hide(),i.suggestion?(s()(".awshirt-suggestion").show(),s()(".awshirt-suggestion").prop("disabled",!1),s()(".instructions").hide()):(s()(".instructions").html(i.alert),s()(".instructions").show(),s()(".awshirt-suggestion").hide()),i.canCensor&&n.canDoSuggestions&&(s()(".awshirt-suggestion").hide(),s()(".awshirt-audience-censor").show()),t.startDrawingInterface(i.playerColors),t.showScreen("#state-draw",function(){t.currentCanvas.resize()}),a.abrupt("break",101);case 69:return s()(".awshirt-audience-censor").hide(),s()("#awshirt-message").html("Waiting for other players to finish!"),i.canCensor&&n.canDoSuggestions&&(s()(".awshirt-audience-censor").show(),s()("#awshirt-message").append('<div class="col-xs-12"><button type="button" id="awshirt-drawing-audience-censor" class="awshirt-audience-censor awshirt-button capitalize btn btn-block">CENSOR AUDIENCE</button></div>')),s()(".awshirt-message-panel").show(),t.showScreen("#state-drawing-done"),a.abrupt("break",101);case 75:return s()(".instructions").html(i.task),i.suggestion?(s()(".instructions").html(i.task),s()(".awshirt-suggestion").show(),s()(".awshirt-suggestion").prop("disabled",!1),s()(".instructions").show()):(s()(".instructions").html(i.alert),s()(".awshirt-suggestion").hide(),s()(".instructions").show()),s()(".awshirt-audience-censor").hide(),i.canCensor&&n.canDoSuggestions&&s()(".awshirt-audience-censor").show(),t.showScreen("#state-input"),a.abrupt("break",101);case 81:return s()("#awshirt-audience-censor-done").hide(),s()("#awshirt-message").html("Waiting for other players to finish!"),i.canCensor&&n.canDoSuggestions&&(s()("#awshirt-audience-censor-done").show(),s()("#awshirt-message").append('<div class="col-xs-12"><button type="button" id="awshirt-drawing-audience-censor" class="awshirt-audience-censor awshirt-button capitalize btn btn-block">CENSOR AUDIENCE</button></div>')),s()(".awshirt-message-panel").show(),t.showScreen("#state-prompts-done"),a.abrupt("break",101);case 87:if(t.currentCanvas||t.startDrawingInterface(i.playerColors),s()("#toggle-prompt").data("params",0),i.drawings&&s()(".awshirt-drawing").length!==i.drawings.length){for(T="",A="",u=0;u<i.drawings.length;u++)R=t.currentCanvas.makeBase64Image(i.drawings[u],!0),T+='<li class="glide__slide"><img class="awshirt-drawing" data-drawing-index='.concat(u,' src="').concat(R.src,'"></img></li>'),A+='<button class="glide__bullet" data-glide-dir="='.concat(u,'"></button>');s()("#awshirt-image-slides").html(T),s()("#awshirt-image-bullets").html(A),_="",O="",i.prompts.forEach(function(t,a){_+='<li class="glide__slide">'.concat(p.a.safeText(t),"</li>"),O+='<button class="glide__bullet" data-glide-dir="='.concat(a,'"></button>')}),s()("#awshirt-slogan-slides").html(_),s()("#awshirt-slogan-bullets").html(O),q={hoverpause:!0,keyboard:!1,type:"slider",perView:1.25,focusAt:"center",gap:15},t.glideShirts&&t.glideShirts.destroy(),t.glideShirts=new l.a(".glideShirts",q),t.glideShirts.on("run",t.handleShirtUpdate.bind(t)),t.glideSlogans&&t.glideSlogans.destroy(),t.glideSlogans=new l.a(".glideSlogans",q),t.handleShirtUpdate()}return E=i.drawings&&i.drawings.length>0?"#state-shirt":"#state-logo",t.showScreen(E,function(){if(!t.imageContainer){t.imageContainer=new w("#awshirt-shirttime-canvas",16,80,[".pre-sketchpad-shirt"],823/589),t.imageContainer.onResize=function(){var a=.05*t.imageContainer.width,e="".concat(Math.floor(15*t.imageContainer.width/288),"px"),n=s()(".awshirt-slider-right,.awshirt-slider-left");n.width(a),n.height(a),s()(".glideSlogans").css("font-size",e)}}t.onResize(),t.imageContainer.resize(),t.glideShirts&&(t.glideShirts.mount(),t.glideSlogans.mount())}),n.submit?s()("#awshirt-submit-shirt").prop("disabled",!1):s()("#awshirt-submit-shirt").prop("disabled",!0),a.abrupt("break",101);case 94:return s()("#awshirt-audience-censor-done").hide(),i.canCensor&&n.canDoSuggestions&&s()("#awshirt-audience-censor-done").show(),s()("#awshirt-message").html("Waiting for other players to finish!"),s()(".awshirt-message-panel").show(),t.showScreen("#state-shirts-done"),a.abrupt("break",101);case 100:return a.abrupt("break",101);case 101:a.next=104;break;case 103:t.showScreen("#state-logo");case 104:a.next=123;break;case 106:if(!o||"Vote"!==o.split("_")[0]){a.next=123;break}if(!r||"Vote"!==r.split("_")[0]){a.next=123;break}L=r.split("_")[1],a.t1=L,a.next="Vote"===a.t1?112:"DoneVoting"===a.t1?118:122;break;case 112:for(M=[],u=0;u<i.order.length;u++)D={backgroundColor:i.choices[i.order[u]].background,order:i.order[u],slogan:p.a.htmlUnescape(i.choices[i.order[u]].slogan),censorable:!i.isCensored[u]&&i.canCensor},M.push(t.renderTemplate(s()("#awshirt-vote-button").html(),D));return s()("#vote-buttons").html(M.join("<span>OR</span>")),i.censorOnly&&s()(".awshirt-vote-button").prop("disabled",!0),t.showScreen("#state-vote"),a.abrupt("break",123);case 118:return s()("#awshirt-message").html("Waiting for other players to finish!"),s()(".awshirt-message-panel").show(),t.showScreen("#state-voting-done"),a.abrupt("break",123);case 122:return a.abrupt("break",123);case 123:case"end":return a.stop()}},a)}))()},handleShirtUpdate:function(t){var a=this.model.get("customerBlob").drawings[this.glideShirts.index].background.replace("#","%23");s()(".awshirt-canvas-container-box").css("background-image","url(\"data:image/svg+xml;utf8,<svg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 823.47 588.96'><defs><style>.cls-1{fill:FILL_COLOR;}.cls-1,.cls-2{fill-rule:evenodd;}</style></defs><title>TeeKOControllerRedesign_shirtExport_v2</title><path id='ShirtFill' class='cls-1' d='M769,93c9.1,6.14,28.87,20.89,51,34-16.58,26-29.13,39.48-33.4,44.05s-25.84,71.28-33.16,78.6-14.52,21.26-22.15,21.56S674,247,674,247l5,69.36c3.86,53.57,5.49,91.14,6.91,112.7s.27,50.88.32,87.8c.08,14.94.94,28,.74,40.14.23,13.89-24.72,13.36-42.71,14.27s-90.4-1.21-114.64,0q-118.26,5.88-164.46,9c-30.74,2-143.42-2.19-143.42-2.19L143,573s5.68-213.16-5-313c-4.37,2-15,9.81-26,15-26.61-24.79-59.55-58.15-86.93-100.72A218.18,218.18,0,0,0,6,149l21-18c9.61-7.47,17.21-14,23-18s48-41.43,52-46,29.67-35.78,47-45c7.63-3.94,15.32-7.93,24-10,14.68-3.61,43.81-2.7,40-3h80s59.46,3.84,50,3c18.66-.37,43.18,6.3,74.21,7.48,49,1.87,65.56,1.82,73.79,1.52s76.67-.93,149-3c4.14.77,8.54,1.25,13,3,6.29,2.56,16.2,6.4,25,12,5.23,3.37,20,12,46,29C724,62,739.2,73,769,93Z' transform='translate(-1.3 -1.51)'/><path id='ShirtOutline' class='cls-2' d='M700,41.53q-13.83-8.89-24.6-14.93A98.49,98.49,0,0,0,653.17,17a50.49,50.49,0,0,0-10.35-1.77L642.63,14c-12.75,0-86.64.06-101.66.06q-26.06-.24-42.69-.61c-1.78-.69-2.7-1-2.74-1A36.44,36.44,0,0,0,488,11.08q-9.81-1-17-1-6.33,0-17.05.3-12.74.42-17,.49-1.89.06-3.6.06-17.89-.67-42.81-1.71-71.37-2.79-83.62-5l-2.56-.37a5.37,5.37,0,0,0-3.53-1.46c-12.79-.77-83.43-1-91.91-.73a157.84,157.84,0,0,0-31.61,3.78q-15.65,3.47-26.43,10.78a85.23,85.23,0,0,0-11.09,9.14q-8.34,7.67-10.71,9.74a107.26,107.26,0,0,0-10.78,10q-6.82,7.13-10.3,10.6-9.44,9.62-21.43,20.59-18.09,16.62-48.9,41.11-15.84,12.72-27,21.74a64.79,64.79,0,0,0-5.42,4.2,8.65,8.65,0,0,0-2.38,3.35q-2,1.22-1.4,4.2l.25.85a14.48,14.48,0,0,0,.48,1.83v.37a1.88,1.88,0,0,0,.19.61,6,6,0,0,0,.6,1.7q2.81,16,18,32.28,8.78,9.45,27.71,26,36.36,35,57.49,66.15,1.65,2.49,3.9,1.28a7.7,7.7,0,0,0,4.75-.92q.3-.18,5.73-4.32,2-1.53,6.63-4.63a37.2,37.2,0,0,0,4.88-3.78q1.28,8.89,2.61,19.43,4.94,42.59,6,96.17T140.42,511q-.61,36.78-1.34,62.85l.61-.24a6.48,6.48,0,0,0,3.47,5A31.12,31.12,0,0,0,152.6,582q1.46.3,9.93,1.53,10.77,1.57,20,2.62,20.77,2.25,40,3.29c23.39,1.18,109.7,1.4,138.93.67q21-.67,40.07-2.07,7.19-.56,19.61-2,13.83-1.53,19.49-2,38.07-3.29,79.48-5.06c10-.53,85.11-1.3,105.25-2.31l6.45-.25,8.29.67q36.72,2.75,42.51.43a8.45,8.45,0,0,0,3.9-3.11,3.87,3.87,0,0,0,2.67-1.88,5.25,5.25,0,0,0,.61-3.6,15.77,15.77,0,0,0-.42-1.64q.6-28.32.79-65.48.36-79.73-2.44-130-3.59-66.94-7.37-118.35l2.68.67a149.8,149.8,0,0,1,14.86,7q4.7,2.49,14,7.67l7.74,4.14a39.28,39.28,0,0,0,3.59,1.65,1.09,1.09,0,0,1,.36.06,3.08,3.08,0,0,0,.8.85,9.14,9.14,0,0,0,2,1.22c.89,2.48,2.75,3.61,5.6,3.41a6.46,6.46,0,0,0,4.56-2.07q4.2-.68,8.83-4.87,3-2.62,8-8.1,20.77-18.94,29.36-40.38,4.44-11.22,6.21-27.23c.36-3.61.65-6,.85-7.13a30.47,30.47,0,0,1,1.83-7,75.23,75.23,0,0,1,5.72-11q7.3-12,14-21.44c.89-1.22,2.23-3.08,4-5.6q2.31-3.4,3.78-5.66,2.37-4,2.86-5.06a12,12,0,0,0,.61-1.64,17.14,17.14,0,0,0,1.94-3.6,2.65,2.65,0,0,0-.42-2.8,2.39,2.39,0,0,0-1.1-1,4.91,4.91,0,0,1-.24-.74,13.42,13.42,0,0,0-4.57-5.23q-3.9-2.5-5.85-3.84L799.21,107q-20-13.52-24.36-16.38Q749.7,73.8,724.3,57.18,700.8,42,700,41.53M696,80.2A5,5,0,0,0,691.65,79a5.27,5.27,0,0,0-3.9,2.62,6.72,6.72,0,0,0-.66,4.51,3.28,3.28,0,0,1,.18.61,5.45,5.45,0,0,0-.3,2.5q.12,1.89.24,3.9.3,6.82-.06,15.16-.12,3.24-1.22,19.07-1.15,17-3.71,37.33-2.13,16.81-4.69,33.63-1.47-14-3-42.15-.36-4.64-1.52-22.66-1-13.95-1.28-22.6l-.67-21.38q-.12-7.42-.24-11.27a52.81,52.81,0,0,0-1.16-11.14c-.49-1.91-1.6-2.84-3.35-2.8s-2.78,1.09-3.1,3a54.3,54.3,0,0,0-.61,11q.12,3.84.36,11.2l.55,22.36q.24,8.4.06,22.78-.24,16.56-.18,22.72.18,26,2,44.34.66,6.45,1.58,12.42-.24,9.21-.06,12.67a44.77,44.77,0,0,0,.55,6.22q.12,4.44.79,10a3.53,3.53,0,0,0,.43,1.59l5.11,72.72q5.79,80.34,7.92,112.68T684,517.89q.12,22.41-.18,40.56L634.71,568l-3.83-.12c-14.94-.65-88.34-.81-100.2-.49q-33.61.86-78.5,2.87-13.83.6-39.95.79-27.41.06-40.19.55-44.1,1.64-78.93.73c-16.16-.37-90.76-1.06-103.79-2.07q-11.94-.91-21.8-2.07-7.8-1.05-11.75-1.4c-1.83-.17-3.54-.27-5.12-.3q.61-21.87.79-51.17.44-64.8-2.37-110.85T145.17,253q-.3-29.73-.37-56.53.06-1,.12-2.07,1.35-16.26,1.59-25.15.54-16.45.85-24.61.42-14.73.18-24.91-.42-10.17-1.52-22.78-.61-7.61-.73-11.45a53.1,53.1,0,0,1,1.21-11.52,7.13,7.13,0,0,0-.79-5.54A6.92,6.92,0,0,0,142,65.1a6,6,0,0,0-4.63-.18A5.7,5.7,0,0,0,134.26,69q-2.43,9.38-1.83,22.41.3,7.56,1.65,22.78.48,10.73.67,24.85.12,4.69.18,24.85c0,1.1.08,2.24.12,3.41-1.09-5.48-1.91-9.31-2.43-11.51a197.57,197.57,0,0,0-6.21-21.62,100.36,100.36,0,0,1-4.57-20.4c-.29-2.27-.49-5.89-.61-10.84a74.69,74.69,0,0,0-.49-10.78,1.9,1.9,0,0,0-1.83-1.89,2.37,2.37,0,0,0-2.25,1.34q-3.52,7.13-3,18.76.18,5.55,2.19,19.43.36,2.63,1.22,10.29.6,6.46,1.34,10.24t1.34,7.61a146,146,0,0,0-13.34-20L94.61,122.3a157.15,157.15,0,0,1-10.53-16.57c-.65-1.26-1.48-1.58-2.5-1a1.8,1.8,0,0,0-1.2,2.24,2.54,2.54,0,0,0,.16.38q4.33,11,15.23,32.76,10.71,21.2,15.16,32.83,14.19,36.74,16.08,69.38a5.32,5.32,0,0,0-.79.18c-.43,0-.85,0-1.28-.06a.82.82,0,0,1-.43-.12,106.3,106.3,0,0,0-5.84-10.42q-4.26-7.12-19.19-27.47L78.23,175.22q-3.7-5.17-5.66-7.74-3.28-4.32-6-7.37-1.89-2.19-6.58-6.94-4.2-4.38-6.39-7a1,1,0,0,0-1.38-.29.85.85,0,0,0-.2.17,1.13,1.13,0,0,0-.36,1.56.76.76,0,0,0,.11.14q1.77,2.92,4.69,8.59,3,5.91,4.57,8.59,2.43,4.14,9,13.46,6.95,9.87,21,29.54a327.73,327.73,0,0,1,18,27.65,183.37,183.37,0,0,1,8.83,17.48c.12.81.44,2.23,1,4.27a18.56,18.56,0,0,1,.73,4.62q.12,5.61-5,4.27a22.27,22.27,0,0,1-7.55-4,3.15,3.15,0,0,0-1.4-.73q-7.8-10.84-19.43-24.55-21.5-25.28-28.87-36.18-7.72-12-11.81-17.9a160.84,160.84,0,0,0-13-16.88,92.24,92.24,0,0,0-14.68-13.52,28,28,0,0,0-6.94-3.71,21.75,21.75,0,0,1,2.86-2.38c1.26-1,3.06-2.27,5.42-3.9l11.45-9.13Q45,122.11,52.11,116.37q25.4-20.2,41.77-36.72,4.14-4,9-9.56,2.13-2.49,8.59-9.87,3.41-3.94,9.19-10,7.5-8.1,9.26-9.92a77.56,77.56,0,0,1,20.95-15.78,107.58,107.58,0,0,1,24.48-9q13.89-3.42,32-2.8c1.7,0,3.84.16,6.4.36L300,15.4l.06.06,31.36,2.8,17.3,1.52q2.51.79,6.76,1.83,3.9,1.16,9.2,3.05,3,1,9.14,3.16a167.76,167.76,0,0,0,37.45,8.71,191.37,191.37,0,0,0,39.1.13,146.36,146.36,0,0,0,37.88-8.9,6.54,6.54,0,0,0,4.08-4.26.16.16,0,0,0,.06-.12L508.7,23a50.21,50.21,0,0,1-3,4.51q-7.8,9.93-25.09,17.48T431.3,51.4q-10-.43-20.16-1.58l-8.28-1.1q-1.65,5.66,8.22,8.16,15,4,53.41-1.83,36.9-5.55,51.94-21,5.79-6,7.12-11.39c17.54-.36,97-.85,118.35-1.46A71.8,71.8,0,0,1,654.81,25,148.26,148.26,0,0,1,677.47,37.2q7.85,5.05,46.83,30.58,23.51,15.41,47.26,31.36,20.34,13.71,24.36,16.51l11.14,8q1.83,1.34,5.6,4.26c.69.41,1.32.75,1.89,1-.57.6-1.56,1.64-3,3.1a.76.76,0,0,0-.31.43c-1.34,1.34-3.24,3.35-5.72,6s-6.93,8-13.34,15.84A151.16,151.16,0,0,0,769.73,192q-5.24,13.82-8,20.58a99.52,99.52,0,0,1-10.23,19.56,98.94,98.94,0,0,1-6.7,8q-4.87,4.94-7.31,7.37-6.71,7.06-8.16,9a22.23,22.23,0,0,0-4.75,9.38c-.74-.37-1.2-.61-1.4-.73q-4.14-2.07-7.49-4.08l-6.34-4c-.65-.37-1.24-.71-1.76-1l.18-8.1a66.83,66.83,0,0,1,.73-8.83,68.64,68.64,0,0,0,.85-8.59,17.4,17.4,0,0,0-.06-2.5q3.48-9.56,12.55-33.25,6.88-18,14.92-34.48,2.87-5.53,8.95-16.69a82.79,82.79,0,0,0,7.19-17.48,2.33,2.33,0,0,0-.79-2.74,2.26,2.26,0,0,0-2.8.13,55.06,55.06,0,0,0-12.12,12.54q-2.74,3.72-9.75,14.92-10,16-18.08,31.55a280.31,280.31,0,0,0-14.38,33.32c-.28,1-.57,1.87-.85,2.68,1-5.2,1.79-9.67,2.43-13.4q4.1-24.18,5.6-39.1a297.08,297.08,0,0,0,1.53-38.43q-.18-9-1.53-20.28-.66-4.69-2.92-20.16a6.72,6.72,0,0,0-1-2.75l-.06-.12A6.78,6.78,0,0,0,696,80.2Z' transform='translate(-1.3 -1.51)'/></svg>\")".replace("FILL_COLOR",a))},updateAudience:function(){var t=this;return y(regeneratorRuntime.mark(function a(){var n,i,r,o,l,c,u,d,g,b,w,v;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=t.model.attributes.roomBlob,i=n?n.state:"Logo",a.t0=i,a.next="Lobby"===a.t0?5:"Logo"===a.t0?21:"Gameplay"===a.t0?24:"Vote"===a.t0?38:43;break;case 5:if(!((o=n.artifact)&&o.success&&o.rootId)){a.next=18;break}return l="games.jackbox.tv",-1!==o.rootId.indexOf("test")&&(l="games-test.jackbox.tv"),c="http://".concat(l,"/artifact/TeeKOGame/").concat(o.artifactId,"/"),a.next=12,e.e(6).then(e.t.bind(null,770,7));case 12:u=a.sent,d='<a target="_blank" class="gallery-link" href="'.concat(c,'"><img src="').concat(u.default,'" /></a>'),s()("#awshirt-audience").html(d),h.a.save(o),a.next=19;break;case 18:s()("#awshirt-audience").html("Sit back and relax!");case 19:return t.showScreen("#state-audience"),a.abrupt("break",44);case 21:return s()("#awshirt-audience").html(""),t.showScreen("#state-audience"),a.abrupt("break",44);case 24:g=n.event,b=n.instruction,a.t1=g,a.next="Gameplay_ShirtTime"===a.t1?29:"Suggestions"===a.t1?32:34;break;case 29:return s()("#awshirt-audience").html("Training in progress..."),t.showScreen("#state-audience"),a.abrupt("break",37);case 32:return n.canDoSuggestions?(s()("#awshirt-audience-suggestion-instruction").html(b),t.showScreen("#state-audience-suggestions")):(s()("#awshirt-audience").html("Training in progress..."),t.showScreen("#state-audience")),a.abrupt("break",37);case 34:return s()("#awshirt-audience").html(""),t.showScreen("#state-audience"),a.abrupt("break",37);case 37:return a.abrupt("break",44);case 38:for(w=[],r=0;r<n.order.length;r++)v={backgroundColor:n.choices[n.order[r]].background,order:n.order[r],disabledAttr:"",slogan:p.a.htmlUnescape(n.choices[n.order[r]].slogan),censorable:!1},w.push(t.renderTemplate(s()("#awshirt-vote-button").html(),v));return s()("#vote-buttons").html(w.join("<span>OR</span>")),t.showScreen("#state-vote"),a.abrupt("break",44);case 43:return a.abrupt("break",44);case 44:case"end":return a.stop()}},a)}))()},hideLobbyButtons:function(){s()("#awshirt-startgame").hide(),s()("#awshirt-stopcountdown").hide(),s()(".awshirt-endbuttons").hide(),s()(".awshirt-avatars").hide(),s()("#awshirt-taunt-input-group").hide()},lobbyMenuBack:function(t){this.lobbyMenu.input("back")},lobbyMenuCensor:function(t){this.lobbyMenu.input("censor")},startGame:function(t){return g.app.client.send("SendMessageToRoomOwner",{start:!0}),!1},stopCountdown:function(t){return g.app.client.send("SendMessageToRoomOwner",{cancel:!0}),!1},enableLoadingButton:function(t,a){return a?(s()(t).show(),s()("".concat(t,"-loading")).hide()):(s()(t).hide(),s()("".concat(t,"-loading")).show()),!1},sendDefaultColor:function(){g.app.client.send("SendMessageToRoomOwner",{defaultColor:"#626060"})},startDrawingInterface:function(t){if(this.enableLoadingButton("#awshirt-submitdrawing",!0),!this.currentCanvas){this.enableLoadingButton("#awshirt-submitdrawing",!0);var a="";t||(t=this.colors);for(var e=0;e<t.length;e++)a+='<li class="pull-right"><a data-color="'.concat(t[e],'" class="awshirt-change-color button-color btn pure-button" style="background-color:').concat(t[e],'"></a></li>');s()("#awshirt-color-buttons").html(a);for(var n="",i=this.backgroundColors,r=0;r<i.length;r++)n+='<li data-background="'.concat(i[r],'" style="background-color:').concat(i[r],';" class="awshirt-background-color pull-left"></li>');s()(".awshirt-background-picker").html(n);var o=s()(".awshirt-sketchpad")[0],l=o.getContext("2d");this.currentCanvas=new b.a(o,l,10,10,[".pre-sketchpad",".post-sketchpad",".awshirt-drawing-buttons"],"#333333"),this.changeColor(t[0]),this.changeBackground(i[0]),this.setThickness(5)}},submitShirt:function(t){var a={drawing:this.glideShirts.index,prompt:this.glideSlogans.index,shirt:!0};return g.app.client.send("SendMessageToRoomOwner",a),!1},vote:function(t){var a=s()(t.target).data("index");return g.app.client.isPlayer?g.app.client.send("SendMessageToRoomOwner",{vote:a}):g.app.client.isAudience&&(s()("#awshirt-audience").html("Thanks for voting!"),this.showScreen("#state-audience"),g.app.client.sessionSend("vote","AwShirt Vote",{type:"vote",vote:a})),s()(".awshirt-vote-button").removeClass("selected"),s()(t.target).addClass("selected"),!1},chooseCategory:function(t){var a=s()(t.target).data("num");return g.app.client.send("SendMessageToRoomOwner",{chosenCategory:a}),!1},newGameSamePlayers:function(t){return g.app.client.send("SendMessageToRoomOwner",{start:!0,decision:"PostGame_Continue"}),!1},newGameNewPlayers:function(t){return g.app.client.send("SendMessageToRoomOwner",{start:!0,decision:"PostGame_NewGame"}),!1},censorPlayer:function(t){if(g.app.client.isPlayer){var a=s()(t.target);if(a.hasClass("awshirt-button-red")){var e=p.a.htmlUnescape(a.data("censor"));g.app.client.send("SendMessageToRoomOwner",{censorPlayerId:e})}else s()(".awshirt-button-red").html("X").removeClass("awshirt-button-red"),a.html("?"),a.addClass("awshirt-button-red")}},censor:function(t){if(g.app.client.isPlayer){var a=s()(t.target);if(a.hasClass("awshirt-button-red")){var e=p.a.htmlUnescape(a.data("censor"));g.app.client.send("SendMessageToRoomOwner",{censor:e})}else s()(".awshirt-button-red").html("X").removeClass("awshirt-button-red"),a.html("?"),a.addClass("awshirt-button-red")}},censorAudience:function(t){return!!g.app.client.isPlayer&&(g.app.client.send("SendMessageToRoomOwner",{censorAudience:!0}),!1)},sanitize:function(t){return t=this.sanitizeInput(t).replace(/'/g,"’"),p.a.htmlEscape(t).trim()},sanitizeInput:function(t){return t=t.replace(/[^A-Z0-9\u00A1\u0020-\u002F\u00BF-\u00FF!?*$+\-’'_ .,=<>:;]/gi,"")},validateInput:function(t){var a=s()(t.target),e=a.val(),n=e.length,i=a.attr("maxLength");if(e=this.sanitizeInput(e),i)for(;e.length>i;)e=e.slice(0,-1);e.length!==n&&a.val(e),e.length>0?s()(t.target).closest("form").find("button[type='submit']").prop("disabled",!1):s()(t.target).closest("form").find("button[type='submit']").prop("disabled",!0)}})}}]);